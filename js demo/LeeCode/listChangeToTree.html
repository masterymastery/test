<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>listChangeToTree</title>
</head>
<!--
-->

<body style="margin:0px;">
    <script>
        /**
  * Definition for singly-linked list.
  * function ListNode(val) {
  *     this.val = val;
  *     this.next = null;
  * }
  */
        /**
         * Definition for a binary tree node.
         * function TreeNode(val) {
         *     this.val = val;
         *     this.left = this.right = null;
         * }
         */
        /**
         * @param {ListNode} head
         * @return {TreeNode}
         */
        var arr = [-10, -3, 0, 5, 9];
        var list = {
            val: -10,
            next: {
                val: -3,
                next: {
                    val: 0,
                    next: {
                        val: 5,
                        next: {
                            val: 9
                        }
                    }
                }
            }
        }
        
        var sortedListToBST = function (head) {
            if (!head) return null;
            const result = [];
            while (head) {
                result.push(head.val);
                head = head.next;
            }
            return generatorTree(result);
        };

        const generatorTree = (arr) => {
            if (arr.length === 0) return null;
            const mid = ~~((arr.length - 1) / 2)
            const node = new TreeNode(arr[mid]);
            node.left = generatorTree(arr.slice(0, mid));
            node.right = generatorTree(arr.slice(mid + 1));
            return node;
        }
        function TreeNode(val){
            this.val = val;
            this.left = this.right = null;
        }
        console.log(sortedListToBST(list));
    </script>
</body>

</html>